(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{40:function(t,e,o){t.exports=o(56)},45:function(t,e,o){},52:function(t,e,o){},56:function(t,e,o){"use strict";o.r(e);var a=o(0),n=o.n(a),r=o(19),i=o.n(r),l=(o(45),o(37)),s=o(5),c=(o(46),o(8)),h=o(10),u=o(12),b=o(11),v=o(61),k=o(62),m=function(t){Object(u.a)(o,t);var e=Object(b.a)(o);function o(){return Object(c.a)(this,o),e.apply(this,arguments)}return Object(h.a)(o,[{key:"render",value:function(){return n.a.createElement(v.a,{bg:"dark",variant:"dark"},n.a.createElement(v.a.Brand,null,"Tetris Clone - Vincent Wong"),n.a.createElement(k.a,{className:"mr-auto"},n.a.createElement(k.a.Link,{href:"/"},"Home"),n.a.createElement(k.a.Link,{href:"https://github.com/V-Wong/WebTetris"},"Source Code"),n.a.createElement(k.a.Link,{href:"https://vwong.dev"},"Other Projects")))}}]),o}(n.a.Component),f=o(58),d=o(59),y=o(60),g=o(63),p=o(7),E=function(){function t(){Object(c.a)(this,t),this.blocks=void 0,this.rotation=void 0,this.colour=void 0}return Object(h.a)(t,[{key:"updatePosition",value:function(t,e){var o,a=Object(p.a)(this.blocks);try{for(a.s();!(o=a.n()).done;){var n=o.value;n[0]+=t,n[1]+=e}}catch(r){a.e(r)}finally{a.f()}}},{key:"rotate",value:function(){return null}}]),t}(),O=function(t){Object(u.a)(o,t);var e=Object(b.a)(o);function o(){var t;return Object(c.a)(this,o),(t=e.call(this)).blocks=[[6,0],[6,1],[7,0],[7,1]],t.colour="red",t}return o}(E),j=function(t){Object(u.a)(o,t);var e=Object(b.a)(o);function o(){var t;return Object(c.a)(this,o),(t=e.call(this)).blocks=[[6,0],[6,1],[6,2],[6,3]],t.rotation=0,t.colour="blue",t}return Object(h.a)(o,[{key:"rotate",value:function(){if(this.rotation%4===0){var t,e=this.blocks[3][1],o=-1,a=Object(p.a)(this.blocks);try{for(a.s();!(t=a.n()).done;){var n=t.value;n[0]=n[0]+o,n[1]=e,o+=1}}catch(E){a.e(E)}finally{a.f()}}else if(this.rotation%4===1){var r,i=this.blocks[2][0],l=-3,s=Object(p.a)(this.blocks);try{for(s.s();!(r=s.n()).done;){var c=r.value;c[0]=i,c[1]=c[1]+l,l+=1}}catch(E){s.e(E)}finally{s.f()}}else if(this.rotation%4===2){var h,u=this.blocks[3][1],b=-2,v=Object(p.a)(this.blocks);try{for(v.s();!(h=v.n()).done;){var k=h.value;k[0]=k[0]+b,k[1]=u,b+=1}}catch(E){v.e(E)}finally{v.f()}}else{var m,f=this.blocks[1][0],d=-3,y=Object(p.a)(this.blocks);try{for(y.s();!(m=y.n()).done;){var g=m.value;g[0]=f,g[1]=g[1]+d,d+=1}}catch(E){y.e(E)}finally{y.f()}}this.rotation+=1}}]),o}(E),T=function(t){Object(u.a)(o,t);var e=Object(b.a)(o);function o(){var t;return Object(c.a)(this,o),(t=e.call(this)).blocks=[[6,0],[7,0],[8,0],[7,1]],t.rotation=0,t.colour="green",t}return Object(h.a)(o,[{key:"rotate",value:function(){this.rotation%4==0?(this.blocks[0]=[this.blocks[0][0]+1,this.blocks[0][1]-1],this.blocks[2]=[this.blocks[2][0]-1,this.blocks[2][1]+1],this.blocks[3]=[this.blocks[3][0]-1,this.blocks[3][1]-1]):this.rotation%4==1?(this.blocks[0]=[this.blocks[0][0]+1,this.blocks[0][1]+1],this.blocks[2]=[this.blocks[2][0]-1,this.blocks[2][1]-1],this.blocks[3]=[this.blocks[3][0]+1,this.blocks[3][1]-1]):this.rotation%4==2?(this.blocks[0]=[this.blocks[0][0]-1,this.blocks[0][1]+1],this.blocks[2]=[this.blocks[2][0]+1,this.blocks[2][1]-1],this.blocks[3]=[this.blocks[3][0]+1,this.blocks[3][1]+1]):(this.blocks[0]=[this.blocks[0][0]-1,this.blocks[0][1]-1],this.blocks[2]=[this.blocks[2][0]+1,this.blocks[2][1]+1],this.blocks[3]=[this.blocks[3][0]-1,this.blocks[3][1]+1]),this.rotation+=1}}]),o}(E),w=function(t){Object(u.a)(o,t);var e=Object(b.a)(o);function o(){var t;return Object(c.a)(this,o),(t=e.call(this)).blocks=[[6,0],[7,0],[8,0],[8,1]],t.rotation=0,t.colour="yellow",t}return Object(h.a)(o,[{key:"rotate",value:function(){var t=this.blocks[1];this.rotation%4==0?(this.blocks[0]=[t[0],t[1]-1],this.blocks[2]=[t[0]-1,t[1]+1],this.blocks[3]=[t[0],t[1]+1]):this.rotation%4==1?(this.blocks[0]=[t[0]-1,t[1]],this.blocks[2]=[t[0]-1,t[1]-1],this.blocks[3]=[t[0]+1,t[1]]):this.rotation%4==2?(this.blocks[0]=[t[0]+1,t[1]-1],this.blocks[2]=[t[0],t[1]-1],this.blocks[3]=[t[0],t[1]+1]):(this.blocks[0]=[t[0]+1,t[1]+1],this.blocks[2]=[t[0]-1,t[1]],this.blocks[3]=[t[0]+1,t[1]]),this.rotation+=1}}]),o}(E),C=function(t){Object(u.a)(o,t);var e=Object(b.a)(o);function o(){var t;return Object(c.a)(this,o),(t=e.call(this)).blocks=[[6,0],[7,0],[8,0],[6,1]],t.rotation=0,t.colour="orange",t}return Object(h.a)(o,[{key:"rotate",value:function(){var t=this.blocks[1];this.rotation%4==0?(this.blocks[0]=[t[0],t[1]-1],this.blocks[2]=[t[0]-1,t[1]-1],this.blocks[3]=[t[0],t[1]+1]):this.rotation%4==1?(this.blocks[0]=[t[0]-1,t[1]],this.blocks[2]=[t[0]+1,t[1]],this.blocks[3]=[t[0]+1,t[1]-1]):this.rotation%4==2?(this.blocks[0]=[t[0],t[1]+1],this.blocks[2]=[t[0],t[1]-1],this.blocks[3]=[t[0]+1,t[1]+1]):(this.blocks[0]=[t[0]-1,t[1]],this.blocks[2]=[t[0]+1,t[1]],this.blocks[3]=[t[0]-1,t[1]+1]),this.rotation+=1}}]),o}(E),B=(o(52),[C,O,j,T,w,C]),S=function(t){Object(u.a)(o,t);var e=Object(b.a)(o);function o(t){var a;Object(c.a)(this,o),a=e.call(this,t);for(var n=[],r=0;r<20;r++){n[r]=[];for(var i=0;i<10;i++)n[r][i]=document.createElement("div"),n[r][i].classList.add("cell"),n[r][i].style.backgroundColor="rgba(255, 255, 255, 0.8)"}return a.state={grid:n,activeTetromino:null},a}return Object(h.a)(o,[{key:"moveTetromino",value:function(t){var e,o=this.state.grid,a=Object(p.a)(this.state.activeTetromino.blocks);try{for(a.s();!(e=a.n()).done;){var n=e.value;o[n[1]][n[0]].style.backgroundColor="rgba(255, 255, 255, 0.8)"}}catch(r){a.e(r)}finally{a.f()}37===t?this.detectCollision(this.state.activeTetromino,-1,0)||this.state.activeTetromino.updatePosition(-1,0):39===t?this.detectCollision(this.state.activeTetromino,1,0)||this.state.activeTetromino.updatePosition(1,0):40===t&&(this.detectCollision(this.state.activeTetromino,0,1)||this.state.activeTetromino.updatePosition(0,1))}},{key:"rotateTetromino",value:function(){var t=JSON.parse(JSON.stringify(this.state.activeTetromino));if(t.rotate=this.state.activeTetromino.rotate,t.rotate(),!this.detectCollision(t,0,0)){var e,o=this.state.grid,a=Object(p.a)(this.state.activeTetromino.blocks);try{for(a.s();!(e=a.n()).done;){var n=e.value;o[n[1]][n[0]].style.backgroundColor="rgba(255, 255, 255, 0.8)"}}catch(r){a.e(r)}finally{a.f()}this.state.activeTetromino.rotate()}}},{key:"drawTetromino",value:function(t){var e,o=this.state.grid,a=Object(p.a)(t.blocks);try{for(a.s();!(e=a.n()).done;){var n=e.value;o[n[1]][n[0]].style.backgroundColor=t.colour}}catch(r){a.e(r)}finally{a.f()}this.setState({grid:o})}},{key:"detectCollision",value:function(t,e,o){var a,n=Object(p.a)(t.blocks);try{for(n.s();!(a=n.n()).done;){var r=a.value;if(!(0<=r[0]+e&&r[0]+e<10)||!(0<=r[1]+o&&r[1]+o<20)||this.state.grid[r[1]+o][r[0]+e].storeBlock)return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"detectCompleteRow",value:function(){for(var t=[],e=0;e<20;e++)this.state.grid[e].every((function(t){return t.storeBlock}))&&t.push(e);return t}},{key:"clearRow",value:function(t){for(var e=t-1;e>=0;e--)for(var o=0;o<10;o++)this.state.grid[e+1][o].style.backgroundColor=this.state.grid[e][o].style.backgroundColor,this.state.grid[e+1][o].storeBlock=this.state.grid[e][o].storeBlock}},{key:"detectLose",value:function(){return this.state.grid[0].some((function(t){return t.storeBlock}))}},{key:"componentDidMount",value:function(){for(var t=this,e=document.getElementById("main-game"),o=0;o<20;o++)for(var a=0;a<10;a++)e.appendChild(this.state.grid[o][a]);var n=B[Math.floor(Math.random()*B.length)];this.state.activeTetromino||this.setState({activeTetromino:new n}),window.addEventListener("keydown",(function(e){38===e.keyCode&&t.rotateTetromino(),t.moveTetromino(e.keyCode),t.drawTetromino(t.state.activeTetromino)})),setInterval((function(){var e=t.state.grid;if(t.detectCollision(t.state.activeTetromino,0,1)){var o,a=Object(p.a)(t.state.activeTetromino.blocks);try{for(a.s();!(o=a.n()).done;){var n=o.value;e[n[1]][n[0]].storeBlock=!0}}catch(v){a.e(v)}finally{a.f()}var r=B[Math.floor(Math.random()*B.length)];t.setState({activeTetromino:new r})}else{var i,l=Object(p.a)(t.state.activeTetromino.blocks);try{for(l.s();!(i=l.n()).done;){var s=i.value;e[s[1]][s[0]].style.backgroundColor="rgba(255, 255, 255, 0.8)"}}catch(v){l.e(v)}finally{l.f()}t.state.activeTetromino.updatePosition(0,1)}t.drawTetromino(t.state.activeTetromino);var c,h=t.detectCompleteRow(),u=Object(p.a)(h);try{for(u.s();!(c=u.n()).done;){var b=c.value;t.clearRow(b)}}catch(v){u.e(v)}finally{u.f()}t.detectLose()&&alert("You lose")}),100)}},{key:"render",value:function(){return n.a.createElement("div",{id:"main-game"})}}]),o}(n.a.Component),L=function(t){Object(u.a)(o,t);var e=Object(b.a)(o);function o(){return Object(c.a)(this,o),e.apply(this,arguments)}return Object(h.a)(o,[{key:"render",value:function(){return n.a.createElement(f.a,{style:{marginTop:"5vh"}},n.a.createElement(d.a,null,n.a.createElement(y.a,{sm:4},n.a.createElement(S,null)),n.a.createElement(y.a,{sm:2},n.a.createElement("div",null,"Implement piece preview here")),n.a.createElement(y.a,{sm:6},n.a.createElement(g.a,null,n.a.createElement(g.a.Header,null,"Tetris Clone - Game Description"),n.a.createElement(g.a.Body,null,n.a.createElement(g.a.Title,null,"Instructions"),n.a.createElement(g.a.Text,null,"Each completely filled row will be cleared and points will be awarded. ",n.a.createElement("br",null),"Fill multiple rows with a single piece to multiply the points gain. ",n.a.createElement("br",null),"The game is over once any of your Tetrominos fill the top row. ",n.a.createElement("br",null),"The goal is to play for as long as possible and score the most points. ",n.a.createElement("br",null)),n.a.createElement(g.a.Title,null,"Controls"),n.a.createElement(g.a.Text,null,n.a.createElement("b",null,"Left, Down, Right:")," move the Tetromino. ",n.a.createElement("br",null),n.a.createElement("b",null,"Up:")," rotate the Tetromino. ",n.a.createElement("br",null),n.a.createElement("b",null,"Space:")," Fast drop the Tetromino. ",n.a.createElement("br",null),n.a.createElement("b",null,"Shift:")," Hold the Tetromino. ",n.a.createElement("br",null),n.a.createElement("b",null,"Escape:")," Pause the game."))),n.a.createElement(g.a,{style:{marginTop:"1vh"}},n.a.createElement(g.a.Header,null,"High Scores"),n.a.createElement(g.a.Body,null)))))}}]),o}(n.a.Component);var P=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(m,null),n.a.createElement(l.a,null,n.a.createElement(s.a,{path:"/",component:L})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[40,1,2]]]);
//# sourceMappingURL=main.e7c9f593.chunk.js.map